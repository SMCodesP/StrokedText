{"version":3,"sources":["../src/StrokedText.tsx"],"sourcesContent":["import { createRef, useEffect } from 'react';\nimport useDimensions from 'react-cool-dimensions';\n\ntype Props = {\n  style?: React.CSSProperties;\n  children?: string;\n  stroke?: string;\n  strokeWidth?: number;\n  fill?: string;\n  paintOrder?: string;\n  textStyle?: React.CSSProperties;\n  textClassName?: string;\n  className?: string;\n};\n\nexport function StrokedText(props: Props) {\n  const svgRef = createRef<SVGSVGElement>();\n  const { observe, width } = useDimensions();\n\n  function updateSVG() {\n    if (svgRef.current) {\n      const bbox = svgRef.current.getBBox();\n\n      svgRef.current.setAttribute(\n        'viewBox',\n        `${bbox.x} ${bbox.y} ${bbox.width} ${bbox.height}`,\n      );\n      svgRef.current.setAttribute('width', bbox.width + '');\n      svgRef.current.setAttribute('height', bbox.height + '');\n    }\n  }\n\n  useEffect(() => {\n    updateSVG();\n  }, [width]);\n\n  useEffect(() => {\n    updateSVG();\n  }, []);\n\n  return (\n    <svg\n      style={{\n        overflow: 'visible',\n        ...props.style,\n      }}\n      ref={svgRef}\n      className={props.className ?? ''}\n    >\n      <text\n        ref={observe as any}\n        className={props.textClassName ?? ''}\n        style={{\n          stroke: props.stroke ?? 'black',\n          fill: props.fill ?? 'white',\n          paintOrder: props.paintOrder ?? 'stroke fill markers',\n          strokeWidth: props.strokeWidth ?? 2,\n          ...props.textStyle,\n        }}\n      >\n        {props.children}\n      </text>\n    </svg>\n  );;\n}\n"],"names":["StrokedText","props","updateSVG","svgRef","current","bbox","getBBox","setAttribute","x","y","width","height","createRef","useDimensions","observe","useEffect","svg","style","overflow","ref","className","text","textClassName","stroke","fill","paintOrder","strokeWidth","textStyle","children"],"mappings":";;;;+BAegBA;;;eAAAA;;;;qBAfqB;0EACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAcnB,SAASA,YAAYC,KAAY;QAI7BC,YAAT,SAASA;QACP,IAAIC,OAAOC,SAAS;YAClB,IAAMC,OAAOF,OAAOC,QAAQE;YAE5BH,OAAOC,QAAQG,aACb,WACA,AAAC,GAAYF,OAAVA,KAAKG,GAAE,KAAaH,OAAVA,KAAKI,GAAE,KAAiBJ,OAAdA,KAAKK,OAAM,KAAe,OAAZL,KAAKM;YAE5CR,OAAOC,QAAQG,aAAa,SAASF,KAAKK,QAAQ;YAClDP,OAAOC,QAAQG,aAAa,UAAUF,KAAKM,SAAS;QACtD;IACF;IAdA,IAAMR,uBAASS,IAAAA;IACf,IAA2BC,iBAAAA,IAAAA,iCAAnBC,UAAmBD,eAAnBC,SAASJ,QAAUG,eAAVH;IAejBK,IAAAA,kBAAU;QACRb;IACF,GAAG;QAACQ;KAAM;IAEVK,IAAAA,kBAAU;QACRb;IACF,GAAG,EAAE;QASUD,kBAIEA,sBAEDA,eACFA,aACMA,mBACCA;IAhBrB,qBACE,qBAACe;QACCC,OAAO;YACLC,UAAU;WACPjB,MAAMgB;QAEXE,KAAKhB;QACLiB,WAAWnB,CAAAA,mBAAAA,MAAMmB,uBAANnB,8BAAAA,mBAAmB;kBAE9B,cAAA,qBAACoB;YACCF,KAAKL;YACLM,WAAWnB,CAAAA,uBAAAA,MAAMqB,2BAANrB,kCAAAA,uBAAuB;YAClCgB,OAAO;gBACLM,QAAQtB,CAAAA,gBAAAA,MAAMsB,oBAANtB,2BAAAA,gBAAgB;gBACxBuB,MAAMvB,CAAAA,cAAAA,MAAMuB,kBAANvB,yBAAAA,cAAc;gBACpBwB,YAAYxB,CAAAA,oBAAAA,MAAMwB,wBAANxB,+BAAAA,oBAAoB;gBAChCyB,aAAazB,CAAAA,qBAAAA,MAAMyB,yBAANzB,gCAAAA,qBAAqB;eAC/BA,MAAM0B;sBAGV1B,MAAM2B;;;AAIf"}